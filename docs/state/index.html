<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.63">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-41044622-6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Handler State | React Native Gesture Handler</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Handler State | React Native Gesture Handler"><meta data-react-helmet="true" name="description" content="As described in &quot;About Gesture Handlers&quot; section gesture handlers can be treated as &quot;state machines&quot;."><meta data-react-helmet="true" property="og:description" content="As described in &quot;About Gesture Handlers&quot; section gesture handlers can be treated as &quot;state machines&quot;."><meta data-react-helmet="true" property="og:url" content="https://docs.swmansion.com/react-native-gesture-handler/docs/state"><link data-react-helmet="true" rel="shortcut icon" href="/react-native-gesture-handler/img/SWM_Fav_192x192.png"><link data-react-helmet="true" rel="canonical" href="https://docs.swmansion.com/react-native-gesture-handler/docs/state"><link rel="stylesheet" href="/react-native-gesture-handler/styles.e328f927.css">
<link rel="preload" href="/react-native-gesture-handler/styles.3c5712ac.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/runtime~main.8282c359.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/main.df0abef5.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/1.faa66d3c.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/2.d870fb35.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/1be78505.8679c667.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/31.445ae06a.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/935f2afb.35c00acf.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/17896441.02f2473c.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/5a34328a.d295e99a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/react-native-gesture-handler/"><strong class="navbar__title">React Native Gesture Handler</strong></a></div><div class="navbar__items navbar__items--right"><div class="githubStarLink"><span><a href="https://github.com/software-mansion/react-native-gesture-handler" data-icon="octicon-star" data-show-count="true" aria-label="Star software-mansion/react-native-gesture-handler on GitHub">Star</a></span></div><a href="https://github.com/software-mansion/react-native-gesture-handler" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/react-native-gesture-handler/"><strong class="navbar__title">React Native Gesture Handler</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/software-mansion/react-native-gesture-handler" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_25T_"><div class="menu menu--responsive menu_1e9D"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button shadow--tl" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-gesture-handler/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-gesture-handler/docs/about-handlers">About Gesture Handlers</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/react-native-gesture-handler/docs/state">Handler State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-gesture-handler/docs/interactions">Cross handler interactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-gesture-handler/docs/example">Running Example App</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Handlers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-common">BaseGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-pan">PanGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-tap">TapGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-longpress">LongPressGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-rotation">RotationGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-fling">FlingGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-pinch">PinchGestureHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/handler-force">ForceTouchGestureHandler</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/component-buttons">Buttons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/component-swipeable">Swipeable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/component-touchables">Touchables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/component-drawer-layout">DrawerLayout</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/troubleshooting">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/resources">Learning Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/react-native-gesture-handler/docs/credits">Credits</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col"><div class="docItemContainer_1tAC"><article><header><h1 class="docTitle_cWlf">Handler State</h1></header><div class="markdown"><p>As described in <a href="/react-native-gesture-handler/docs/about-handlers">&quot;About Gesture Handlers&quot;</a> section gesture handlers can be treated as <a href="https://en.wikipedia.org/wiki/Finite-state_machine" target="_blank" rel="noopener noreferrer">&quot;state machines&quot;</a>.
Each handler instance at any given time has an assigned state that can change when new touch events arrive or can be forced by the touch system to change it state in certain circumstances.</p><p>There are six possible states for the handler:</p><ul><li><a href="#undetermined">UNDETERMINED</a></li><li><a href="#failed">FAILED</a></li><li><a href="#began">BEGAN</a></li><li><a href="#cancelled">CANCELLED</a></li><li><a href="#active">ACTIVE</a></li><li><a href="#end">END</a></li></ul><p>Each state has its own section underneath describing the details.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="accessing-state"></a>Accessing state<a aria-hidden="true" tabindex="-1" class="hash-link" href="#accessing-state" title="Direct link to heading">#</a></h2><p>We can monitor handler&#x27;s state changes using <a href="/react-native-gesture-handler/docs/handler-common#onhandlerstatechange"><code>onHandlerStateChange</code></a> callback and accessed from <a href="/react-native-gesture-handler/docs/handler-common#state"><code>state</code></a> attribute of the event.</p><p>The <a href="/react-native-gesture-handler/docs/handler-common#state"><code>state</code></a> as provided in the event attribute can be matched against one of the constants exported under <code>State</code> object (see the example below).
The constants corresponds</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token plain">import { State, LongPressGestureHandler } from &#x27;react-native-gesture-handler&#x27;;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">class Demo extends Component {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  _handleStateChange = ({ nativeEvent }) =&gt; {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    if (nativeEvent.state === State.ACTIVE) {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      Alert.alert(&#x27;Longpress&#x27;);</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    }</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  };</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  render() {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    return (</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      &lt;LongPressGestureHandler onHandlerStateChange={this._handleStateChange}&gt;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        &lt;Text style={styles.buttonText}&gt;Longpress me&lt;/Text&gt;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      &lt;/LongPressGestureHandler&gt;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    );</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  }</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="state-flows"></a>State flows<a aria-hidden="true" tabindex="-1" class="hash-link" href="#state-flows" title="Direct link to heading">#</a></h2><p>The most typical flow of the state is when the gesture handler first picks up the initial touch events, then at some point it recognizes the touches and after the end of the gesture is recognized it resets back to the initial state. The flow looks as follows (longer arrows represent that there are possibly more touch events received before the state changes):</p><p><a href="#undetermined"><code>UNDETERMINED</code></a> -&gt; <a href="#began"><code>BEGAN</code></a> ------&gt; <a href="#active"><code>ACTIVE</code></a> ------&gt; <a href="#end"><code>END</code></a> -&gt; <a href="#undetermined"><code>UNDETERMINED</code></a></p><p>Here is another possible flow when the handler receive touches that causes it to fail recognition:</p><p><a href="#undetermined"><code>UNDETERMINED</code></a> -&gt; <a href="#began"><code>BEGAN</code></a> ------&gt; <a href="#failed"><code>FAILED</code></a> -&gt; <a href="#undetermined"><code>UNDETERMINED</code></a></p><p>Lastly even when the handler properly recognizes the gesture it may be interrupted by the touch system, in that case the flow looks as follows:</p><p><a href="#undetermined"><code>UNDETERMINED</code></a> -&gt; <a href="#began"><code>BEGAN</code></a> ------&gt; <a href="#active"><code>ACTIVE</code></a> ------&gt; <a href="#cancelled"><code>CANCELLED</code></a> -&gt; <a href="#undetermined"><code>UNDETERMINED</code></a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="states"></a>States<a aria-hidden="true" tabindex="-1" class="hash-link" href="#states" title="Direct link to heading">#</a></h2><p>Section below lists all the possible handler states along with detailed description of each state:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="undetermined"></a>UNDETERMINED<a aria-hidden="true" tabindex="-1" class="hash-link" href="#undetermined" title="Direct link to heading">#</a></h3><p>This is the initial state of each handler. It also changes to that state when it is done recognizing and hasn&#x27;t started recogninzing another gesture.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="failed"></a>FAILED<a aria-hidden="true" tabindex="-1" class="hash-link" href="#failed" title="Direct link to heading">#</a></h3><p>Handler has received some touches, but for some condition (e.g. finger traveled too long distance when <code>maxDist</code> property is set) it won&#x27;t get <a href="#ACTIVE">activated</a> and gesture was not recognized. After that handler is reset to <a href="#undetermined">the initial state</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="began"></a>BEGAN<a aria-hidden="true" tabindex="-1" class="hash-link" href="#began" title="Direct link to heading">#</a></h3><p>Handler has started receiving touch stream but hasn&#x27;t yet receive enough data to either <a href="#failed">fail</a> or <a href="#active">activate</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cancelled"></a>CANCELLED<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cancelled" title="Direct link to heading">#</a></h3><p>The gesture recognizer has received signal (possibly new touches or a command from the touch system controller) resulting in the cancellation of a continuous gesture. Gesture recognizer is reset to <a href="#undetermined">the initial state</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="active"></a>ACTIVE<a aria-hidden="true" tabindex="-1" class="hash-link" href="#active" title="Direct link to heading">#</a></h3><p>Handler has recognized gesture and will stay in the active as until the gesture finishes (normally when user lifts the finger) or get cancelled by the touch system. Under normal circumstances it would turn into <a href="#end">ended</a> state. In case it is cancelled by the touch system it would turn into <a href="#cancelled">CANCELLED</a> state.
Learn about <a href="/react-native-gesture-handler/docs/about-handlers#discrete-vs-continuous">discrete and continuous handlers here</a> to understand how long handler can be kept in the ACTIVE state.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="end"></a>END<a aria-hidden="true" tabindex="-1" class="hash-link" href="#end" title="Direct link to heading">#</a></h3><p>The gesture recognizer has received touches recognized as the end of the gesture. After that it will reset to <a href="#undetermined">the initial state</a>.</p></div></article></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="footer-container"><a href="https://www.swmansion.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand footer-image-link"><img class="navbar__logo" src="/react-native-gesture-handler/img/swmLogo.svg" alt="Software Mansion logo"></a><div class="githubStarLink"><span><a href="https://github.com/software-mansion/react-native-gesture-handler" data-icon="octicon-star" data-show-count="true" aria-label="Star software-mansion/react-native-gesture-handler on GitHub">Star</a></span></div></div></footer></div>
<script src="/react-native-gesture-handler/styles.3c5712ac.js"></script>
<script src="/react-native-gesture-handler/runtime~main.8282c359.js"></script>
<script src="/react-native-gesture-handler/main.df0abef5.js"></script>
<script src="/react-native-gesture-handler/1.faa66d3c.js"></script>
<script src="/react-native-gesture-handler/2.d870fb35.js"></script>
<script src="/react-native-gesture-handler/1be78505.8679c667.js"></script>
<script src="/react-native-gesture-handler/31.445ae06a.js"></script>
<script src="/react-native-gesture-handler/935f2afb.35c00acf.js"></script>
<script src="/react-native-gesture-handler/17896441.02f2473c.js"></script>
<script src="/react-native-gesture-handler/5a34328a.d295e99a.js"></script>
</body>
</html>